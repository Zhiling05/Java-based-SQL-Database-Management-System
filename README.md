# Java-based-SQL-Database-Management-System
A Java-based database server with SQL support



## Features

- Custom SQL query parsing and execution
- In-memory data structures with file persistence
- Support for CREATE, USE, INSERT, SELECT, UPDATE, DELETE, JOIN operations
- Foreign key relationships
- Robust error handling



## Technologies
- Java
- Maven
- JUnit for testing



# Important Implementation Details

**File Storage Format**:

- Each table is stored in a separate file using tab-separated text format (`.tab` files)
- All database files are stored within the `databases` folder
- The file structure mimics the database structure (e.g., `databases/university/students.tab`)

**ID Management**:

- The `id` column is automatically generated by the server and cannot be deleted
- Users cannot manually add or specify ID values
- Once an ID is assigned, it remains fixed until the record is deleted
- IDs are never recycled - even if records are deleted, new records will receive new, higher ID values
- This ensures referential integrity when IDs are used as foreign keys

**Case Sensitivity**:

- SQL commands and keywords are case-insensitive (e.g., `SELECT` and `select` are equivalent)
- Database and table names are stored in lowercase (case-insensitive for queries)
- Column names preserve their original case for storage (to support CamelCase naming)
- However, column names are case-insensitive for query purposes

**Foreign Key Relationships**:

- The system does not automatically identify primary or foreign keys
- Users must manually manage relationships between tables
- No automatic constraint enforcement is provided - it's the user's responsibility to maintain data integrity

**Error Handling**:

- The server returns descriptive error messages when it detects invalid commands
- All responses begin with either `[OK]` for successful operations or `[ERROR]` for failed operations
- For proper SQL syntax, please refer to the BNF file which defines all supported SQL statements and formats



## How to Run
#### Prerequisites

- Java JDK 17 or higher
- Maven (or use the included Maven wrapper)

#### Starting the Server

- Clone the repository

- Navigate to the project directory

- Run the server using Maven:

  ```bash
  ./mvnw exec:java@server
  ```

  (On Windows, use `mvnw.cmd` instead of `./mvnw`)

- The server will start and listen on port 8888

#### Starting the Client

- Open a new terminal window

- Navigate to the project directory

- Run the client using Maven:

  ```bash
  ./mvnw exec:java@client
  ```

- You'll see a prompt: `SQL:> ` where you can enter SQL commands



# Examples

Here are some example SQL commands you can try with the database server:

#### Creating and Using a Database

```sql
CREATE DATABASE university;
USE university;
```

#### Creating Tables

```sql
CREATE TABLE students (name, age, gpa);
CREATE TABLE courses (title, department, credits);
```

#### Inserting Data

```sql
INSERT INTO students VALUES ('Alice', 20, 3.8);
INSERT INTO students VALUES ('Bob', 22, 3.5);
INSERT INTO courses VALUES ('Database Systems', 'Computer Science', 4);
INSERT INTO courses VALUES ('Algorithms', 'Computer Science', 3);
```

#### Basic Queries

```sql
SELECT * FROM students;
SELECT name, gpa FROM students WHERE gpa > 3.6;
```

#### Updating Data

```sql
UPDATE students SET age = 21 WHERE name == 'Alice';
```

#### Joining Tables

First, create a relationship:

```sql
CREATE TABLE enrollment (student_id, course_id, semester);
INSERT INTO enrollment VALUES (1, 1, 'Fall 2023');
INSERT INTO enrollment VALUES (1, 2, 'Fall 2023');
INSERT INTO enrollment VALUES (2, 1, 'Spring 2024');
```

Then perform a join:

```sql
JOIN students AND enrollment ON id AND student_id;
```

#### Altering Tables

```sql
ALTER TABLE students ADD grade;
UPDATE students SET grade = 'A' WHERE name == 'Alice';
```

#### Deleting Data

```sql
DELETE FROM students WHERE name == 'Bob';
```

#### Dropping Tables/Databases

```sql
DROP TABLE enrollment;
DROP DATABASE university;
```


